---
import { Image } from 'astro:assets';
import SwapperImage from '../Projects-section/projectImages/vimc-portfolioweb.webp';
import AirbnbImage from '../Projects-section/projectImages/airbnb-clone.webp';

import TechStack from './TechStack.astro';
import DemoIcon from '@icons/social-media/Demo.astro';
import GitHubIcon from '@icons/social-media/GitHub.astro';
import RustIcon from '@icons/technologies/Rust.astro';
import ReactIcon from '@icons/technologies/React.astro';
import MongoIcon from '@icons/technologies/MongoDB.astro';
import TailwindIcon from '@icons/technologies/Tailwind.astro';
import PythonIcon from '@icons/technologies/Python.astro';
import JavaScriptIcon from '@icons/technologies/JavaScript.astro';
import MySQLIcon from '@icons/technologies/MySQL.astro';
import FlaskIcon from '@icons/technologies/Flask.astro';

const TAGS = {
  RUST: {
    name: 'Rust',
    class: 'bg-[#fff] text-black',
    icon: RustIcon,
  },
  REACT: {
    name: 'React',
    class: 'bg-[#0086ac]',
    icon: ReactIcon,
  },
  MONGODB: {
    name: 'MongoDB',
    class: 'bg-[#134514]',
    icon: MongoIcon,
  },
  TAILWIND: {
    name: 'Tailwind CSS',
    class: 'bg-[#fff] text-[#44a8b3]',
    icon: TailwindIcon,
  },
  PYTHON: {
    name: 'Python',
    class: 'bg-[#fff] text-black',
    icon: PythonIcon,
  },
  JAVASCRIPT: {
    name: 'JavaScript',
    class: 'bg-[#c5a816] text-black',
    icon: JavaScriptIcon,
  },
  MYSQL: {
    name: 'MySQL',
    class: 'bg-[#f8981d] text-[#00618a]',
    icon: MySQLIcon,
  },
  FLASK: {
    name: 'Flask',
    class: 'bg-[#fff] text-black',
    icon: FlaskIcon,
  },
};

const PROJECTS = [
  {
    title: 'Swapper: Crypto Exchange',
    description:
      'Cryptocurrency exchange platform called Swapper. User-friendly interface where could exchange fiat currencies like Soles or Dollars for cryptocurrencies such as Bitcoin and Ethereum with real-time trading features that allowed users to monitor market prices and execute trades instantly.',
    link: 'https://github.com/victormc13/swapper-exchange',
    github: 'https://github.com/victormc13/swapper-exchange',
    image: SwapperImage,
    techstack: [TAGS.RUST, TAGS.REACT, TAGS.MONGODB, TAGS.TAILWIND],
  },
  {
    title: 'AirBnb Clone',
    description:
      'Cryptocurrency exchange platform called Swapper. User-friendly interface where could exchange fiat currencies like Soles or Dollars for cryptocurrencies such as Bitcoin and Ethereum with real-time trading features that allowed users to monitor market prices and execute trades instantly.',
    link: 'https://github.com/victormc13/swapper-exchange',
    github: 'https://github.com/victormc13/swapper-exchange',
    image: AirbnbImage,
    techstack: [TAGS.PYTHON, TAGS.JAVASCRIPT, TAGS.MYSQL, TAGS.FLASK],
  },
  {
    title: 'Swapper: Crypto Exchange',
    description:
      'Cryptocurrency exchange platform called Swapper. User-friendly interface where could exchange fiat currencies like Soles or Dollars for cryptocurrencies such as Bitcoin and Ethereum with real-time trading features that allowed users to monitor market prices and execute trades instantly.',
    link: 'https://github.com/victormc13/swapper-exchange',
    github: 'https://github.com/victormc13/swapper-exchange',
    image: SwapperImage,
    techstack: [TAGS.RUST, TAGS.REACT, TAGS.MONGODB, TAGS.TAILWIND],
  },
];
---

<div
  class="mx-auto flex w-full max-w-7xl flex-col gap-10 px-4 md:gap-12 xl:px-8 items-center"
>
  <p
    class="text-lg md:text-xl max-w-xl text-center pt-5 text-balance md:text-pretty"
  >
    Mis Ãºltimos proyectos
  </p>
  {
    PROJECTS.map(({ title, description, link, github, image, techstack }) => (
      <article class="mx-auto w-full h-auto flex flex-col xl:flex-row md:items-center space-x-0 space-y-2 md:space-x-0 md:space-y-8 lg:space-x-0 lg:space-y-4 xl:space-x-8 xl:space-y-0">
        <div class="w-full xl:h-full max-w-md md:max-w-lg xl:w-1/2">
          <a href={link} class="flex xl:h-64 items-center justify-center md:w-full col-span-6 row-span-5 gap-8 transition duration-500 ease-in-out overflow-clip rounded-xl sm:rounded-xl md:group-hover:-translate-y-1 md:group-hover:shadow-2xl lg:border-2 lg:border-[#097be6]/50 lg:hover:border-[#00b386] lg:hover:bg-[#1e40af]/20 hover:shadow-custom">
            <Image
              src={image}
              alt="swapper project"
              format="avif"
              quality={'low'}
              class="object-cover w-full xl:h-full hover:scale-90 rounded-lg transition-all duration-500"
            />
          </a>
        </div>

        <div class="w-full md:max-w-lg xl:w-1/2">
          <h3 class="text-xl md:text-2xl font-bold text-center md:text-start">
            {title}
          </h3>
          <div class="flex flex-wrap mt-2">
            <ul class="w-auto flex flex-wrap gap-x-2 gap-y-1 mb-2">
              {techstack.map((stack) => (
                <TechStack class={`${stack.class}`}>
                  <stack.icon class="size-4" />
                  {stack.name}
                </TechStack>
              ))}
            </ul>
            <p class="w-full mt-1 opacity-75 dark:text-gray-400">
              {description}
            </p>
            <a
              href={github}
              class="flex items-center justify-center gap-2 w-auto mt-2 p-2 border-2 md:w-28 md:px-1 lg:text-nowrap md:py-3 lg:p-3 rounded-lg border-slate-400 hover:bg-blue-800"
            >
              <GitHubIcon class="size-5" />
              Code
            </a>
            <a
              href={link}
              class="flex items-center justify-center gap-2 w-auto mt-2 ml-4 p-2 border-2 md:w-28 md:px-1 lg:text-nowrap md:py-3 lg:p-3 rounded-lg border-slate-400 hover:bg-blue-800"
            >
              <DemoIcon class="size-5" />
              Live
            </a>
          </div>
        </div>
      </article>
    ))
  }
</div>
